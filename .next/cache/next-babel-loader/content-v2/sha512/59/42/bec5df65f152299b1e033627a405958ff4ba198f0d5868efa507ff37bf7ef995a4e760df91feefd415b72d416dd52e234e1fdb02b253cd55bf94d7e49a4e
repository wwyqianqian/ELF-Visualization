{"ast":null,"code":"const {\n  execFile\n} = require(\"child_process\");\n\nconst path = require(\"path\");\n\nexport default function handler(req, res) {\n  let args = [];\n\n  if (req.query && req.query.args) {\n    args = JSON.parse(req.query.args);\n  }\n\n  const binary = path.resolve(process.cwd(), \"elf_parser\");\n  execFile(binary, [...args], (error, stdout, stderr) => {\n    if (error) {\n      throw error;\n    }\n\n    res.status(200).send(stdout);\n  });\n}","map":{"version":3,"sources":["/Users/qianqian/work/ELF-Visualization/pages/api/call.js"],"names":["execFile","require","path","handler","req","res","args","query","JSON","parse","binary","resolve","process","cwd","error","stdout","stderr","status","send"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAeC,OAAO,CAAC,eAAD,CAA5B;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,eAAe,SAASE,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACxC,MAAIC,IAAI,GAAG,EAAX;;AACA,MAAIF,GAAG,CAACG,KAAJ,IAAaH,GAAG,CAACG,KAAJ,CAAUD,IAA3B,EAAiC;AAC/BA,IAAAA,IAAI,GAAGE,IAAI,CAACC,KAAL,CAAWL,GAAG,CAACG,KAAJ,CAAUD,IAArB,CAAP;AACD;;AAED,QAAMI,MAAM,GAAGR,IAAI,CAACS,OAAL,CAAaC,OAAO,CAACC,GAAR,EAAb,EAA4B,YAA5B,CAAf;AACAb,EAAAA,QAAQ,CAACU,MAAD,EAAS,CAAC,GAAGJ,IAAJ,CAAT,EAAoB,CAACQ,KAAD,EAAQC,MAAR,EAAgBC,MAAhB,KAA2B;AACrD,QAAIF,KAAJ,EAAW;AACT,YAAMA,KAAN;AACD;;AACDT,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,MAArB;AACD,GALO,CAAR;AAMD","sourcesContent":["const { execFile } = require(\"child_process\");\nconst path = require(\"path\");\n\nexport default function handler(req, res) {\n  let args = [];\n  if (req.query && req.query.args) {\n    args = JSON.parse(req.query.args);\n  }\n\n  const binary = path.resolve(process.cwd(), \"elf_parser\");\n  execFile(binary, [...args], (error, stdout, stderr) => {\n    if (error) {\n      throw error;\n    }\n    res.status(200).send(stdout);\n  });\n}\n"]},"metadata":{},"sourceType":"module"}